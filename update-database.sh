#!/bin/bash

echo "๐ ุชุญุฏูุซ ูุงุนุฏุฉ ุจูุงูุงุช ูููุน ุตุญุฉ"
echo "================================="

# ุงูุชุญูู ูู ูุฌูุฏ ุงูุฃุฏูุงุช ุงููุทููุจุฉ
if ! command -v npx &> /dev/null; then
    echo "โ npx ุบูุฑ ูุซุจุช. ุชุฃูุฏ ูู ุชุซุจูุช Node.js"
    exit 1
fi

echo "๐ฆ ุชุทุจูู ุงูุชุฑุญููุงุช ุงูุฌุฏูุฏุฉ..."
npx prisma migrate deploy

if [ $? -eq 0 ]; then
    echo "โ ุชู ุชุทุจูู ุงูุชุฑุญููุงุช ุจูุฌุงุญ"
else
    echo "โ ูุดู ูู ุชุทุจูู ุงูุชุฑุญููุงุช"
    exit 1
fi

echo "๐ฑ ุฅุถุงูุฉ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ..."
npx prisma db seed

if [ $? -eq 0 ]; then
    echo "โ ุชู ุฅุถุงูุฉ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ ุจูุฌุงุญ"
    echo ""
    echo "๐ ุชู ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจูุฌุงุญ!"
    echo ""
    echo "ูุง ุชู ุฅุถุงูุชู:"
    echo "- ๐๏ธ 40+ ุฏููุฉ ู60+ ูุฏููุฉ"
    echo "- ๐ฐ ุนููุงุช ุฌููุน ุงูุฏูู"
    echo "- ๐ ุนูุงูุงุช ุจูู ุงูุฌุฏุงูู"
    echo ""
    echo "ุงูุขู ููููู:"
    echo "- โ ุชุณุฌูู ุญุณุงุจุงุช ุฌุฏูุฏุฉ"
    echo "- โ ุงูุจุญุซ ูู ุงูุฅุนูุงูุงุช"
    echo "- โ ุฅุถุงูุฉ ุฅุนูุงูุงุช ุฌุฏูุฏุฉ"
    echo "- โ ุงุฎุชูุงุฑ ุฎุทุท ุงูุฅุนูุงูุงุช"
    echo "- โ ุชุจุฏูู ุงูุฏูู ูุงูุนููุงุช"
else
    echo "โ ูุดู ูู ุฅุถุงูุฉ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ"
    exit 1
fi

echo ""
echo "๐ Render ุณูุนูุฏ ูุดุฑ ุงูุชุทุจูู ุชููุงุฆูุงู..."
echo "๐ฑ Vercel ุณูุนูุฏ ูุดุฑ ุงููุฑููุช ุฅูุฏ ุชููุงุฆูุงู..."
echo ""
echo "ุงูุชุธุฑ 2-3 ุฏูุงุฆู ุซู ุงุฎุชุจุฑ ุงููููุน!"